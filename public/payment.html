<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Payment | DigitalTemplates</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="payment.css">
</head>
<body>
    <div class="header">
        <div class="logo">TEMPLIfy</div>
        <p class="tagline">Premium Digital Templates Marketplace</p>
    </div>

    <div class="container">
        <!-- Payment Section -->
        <div class="card" id="paymentSection">
            <h2>Complete Payment</h2>
            
            <div class="product-info">
                <i class="fas fa-shopping-cart"></i>
                <div>
                    <p>Purchasing: <span id="productName">Corporate Pro</span></p>
                    <div id="priceContainer">
                        <span class="original-price" id="originalPrice">₹59</span>
                        <span class="price-large" id="finalPrice">₹59</span>
                        <span class="discount-badge" id="discountBadge" style="display: none;">0% OFF</span>
                    </div>
                    <p style="font-size: 14px; color: #aaa; margin-top: 5px;">Secure payment powered by Razorpay</p>
                </div>
            </div>
            
            <!-- Coupon Section -->
            <div class="coupon-section">
                <h3 style="font-size: 18px; margin-bottom: 12px;">Apply Coupon</h3>
                <div class="coupon-input-group">
                    <input type="text" id="couponCode" class="coupon-input" placeholder="Enter coupon code">
                    <button id="applyCouponBtn" class="apply-coupon-btn">Apply</button>
                </div>
                <div id="couponMessage" class="coupon-message"></div>
            </div>
            
            <form id="customerDetailsForm">
                <div class="form-group">
                    <label for="customerName" class="form-label">Your Name*</label>
                    <input type="text" id="customerName" class="form-control" placeholder="Enter your name" required>
                </div>
                <div class="form-group">
                    <label for="customerEmail" class="form-label">Email*</label>
                    <input type="email" id="customerEmail" class="form-control" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="customerContact" class="form-label">Contact Number*</label>
                    <input type="tel" id="customerContact" class="form-control" placeholder="Enter your contact number" required pattern="[0-9]{10,15}">
                </div>
                
                <button id="rzp-button" class="btn btn-primary">
                    <i class="fas fa-lock"></i> Secure Payment
                </button>
            </form>
        </div>
        
        <!-- Success Section -->
        <div class="card" id="successSection">
            <div class="status-icon success">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2>Payment Successful!</h2>
            
            <div class="purchase-details">
                <p id="purchaseDetails"></p>
                <p style="margin-top: 10px;"><i class="fas fa-envelope"></i> Your receipt has been emailed to you</p>
            </div>
            
            <button id="downloadBtn" class="btn btn-success">
                <i class="fas fa-download"></i> Download Template
            </button>
            
            <p class="download-note">If download doesn't start automatically, click the button above</p>
        </div>
        
        <!-- Error Section -->
        <div class="card" id="errorSection">
            <div class="status-icon error">
                <i class="fas fa-times-circle"></i>
            </div>
            <h2>Payment Failed</h2>
            <p id="errorMessage" style="text-align: center; margin: 20px 0;">Payment could not be processed</p>
            
            <button onclick="showPaymentSection()" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Try Again
            </button>
        </div>
    </div>

    <div class="footer">
        <p>© 2023 TEMPLIfy. All rights reserved.</p>
        <p>Need help? <a href="#">Contact Support</a> | <a href="#">Terms of Service</a> | <a href="#">Privacy Policy</a></p>
    </div>

    <!-- Razorpay Integration -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script src="payment.js"></script>
</body>
</html>